(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t){e.exports="data:image/png;base64,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"},140:function(e,t,a){},248:function(e,t,a){e.exports=a(577)},296:function(e,t,a){e.exports=a.p+"static/media/collaboration.3704fb4f.png"},315:function(e,t){},317:function(e,t){},338:function(e,t){},346:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=346},353:function(e,t){},354:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=354},391:function(e,t){},392:function(e,t){},478:function(e,t){},577:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(59),c=a.n(s),l=(a(253),a(140),a(1)),o=a(2),i=a(4),u=a(3),m=a(5),h=a(60),d=a(27),p=a.n(d),b=a(100),f=a.n(b),E=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("img",{className:"logo",src:f.a,alt:"logo",height:"500px"}),r.a.createElement("div",{className:"acess1"},r.a.createElement("a",{className:"btn btn-purple",variant:"info",href:"/signup"},"Sign-up"),r.a.createElement("a",{className:"btn btn-purple",variant:"info",href:"/login"},"Log-in"),r.a.createElement("a",{href:"/forgotPassword"},"Forgot your password?")))}}]),t}(n.Component),A=a(25),g=a(7),v=a(13),y=a.n(v),j=function e(){var t=this;Object(l.a)(this,e),this.service=y.a.create({baseURL:"".concat("https://citycircle.herokuapp.com"),withCredentials:!0}),this.signup=function(e,a,n,r,s,c,l){return t.service.post("/signup",{name:e,address:a,geolocation:n,username:r,originalPassword:s,imageUrl:c,email:l}).then(function(e){if(console.log("response in authservice",e),e.error)throw e.error;return e.data})},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then(function(e){return e.data})},this.logout=function(){return t.service.post("/logout")},this.currentUser=function(){return t.service.get("/my-page").then(function(e){return e.data})}},N=y.a.create({baseURL:"".concat("https://citycircle.herokuapp.com")}),S=function(e){throw e},w={service:N,handleUpload:function(e){return N.post("/upload",e).then(function(e){return e.data}).catch(S)}},O=a(102),x=a.n(O),C=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState({address:e})},a.handleSelect=function(e){Object(O.geocodeByAddress)(e).then(function(e){return Object(O.getLatLng)(e[0])}).then(a.props.setAddress(e)).then(function(e){a.setState({geolocation:e}),a.props.setGeo(e),console.log("Success",e)}).catch(function(e){return console.error("Error",e)})},a.handleAddress=function(e){e.preventDefault(),a.props.setAddress(a.state.address),a.props.setGeo(a.state.geolocation),p.a.fire("You address is saved")},a.state={address:"",geolocation:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(x.a,{value:this.state.address,onChange:this.handleChange,onSelect:this.handleSelect,onSubmit:function(t){return e.handleSubmit(t)}},function(e){var t=e.getInputProps,a=e.suggestions,n=e.getSuggestionItemProps,s=e.loading;return r.a.createElement("div",null,r.a.createElement("input",t({placeholder:"Search Places ...",className:"signup-input"})),r.a.createElement("div",{className:"autocomplete-dropdown-container"},s&&r.a.createElement("div",null,"Loading..."),a.map(function(e){var t=e.active?"suggestion-item--active":"suggestion-item",a=(e.active,{backgroundColor:"#3a4042",cursor:"pointer"});return r.a.createElement("div",n(e,{className:t,style:a}),r.a.createElement("span",null,e.description))})))}),r.a.createElement("input",{className:"btn btn-green",type:"button",value:"SAVE THE ADDRESS",onClick:this.handleAddress}))}}]),t}(r.a.Component),k=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).authService=new j,a.setAddress=function(e){a.setState({address:e})},a.setGeo=function(e){a.setState({geolocation:e})},a.changeHandler=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(A.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.name,r=t.address,s=t.geolocation,c=t.username,l=t.password,o=t.imageUrl,i=t.email;a.authService.signup(n,r,s,c,l,o,i).then(function(e){console.log("response received",e),a.props.history.push("/login")}).catch(function(e){console.log("error caught",e)})},a.handleFileUpload=function(e){console.log("The file to be uploaded is: ",e.target.files[0]);var t=new FormData;t.append("imageUrl",e.target.files[0]),w.handleUpload(t).then(function(e){console.log("response is: ",e),a.setState({imageUrl:e.secure_url})}).catch(function(e){console.log("Error while uploading the file: ",e)})},a.state={name:"",address:"",geolocation:"",username:"",password:"",imageUrl:"",error:"",email:""},a.setAddress=a.setAddress.bind(Object(g.a)(a)),a.setGeo=a.setGeo.bind(Object(g.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"entire-screen"},r.a.createElement("div",{className:"signup"},r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("input",{type:"text",className:"signup-input",name:"name","aria-describedby":"name",placeholder:"FULL NAME",onChange:function(t){return e.changeHandler(t)}}),r.a.createElement("br",null),r.a.createElement("input",{type:"text",className:"signup-input",name:"email","aria-describedby":"email",placeholder:"EMAIL",onChange:function(t){return e.changeHandler(t)}}),"\xa0 \xa0 \xa0",r.a.createElement("br",null),r.a.createElement("input",{type:"text",className:"signup-input",name:"username","aria-describedby":"username",placeholder:"USERNAME",onChange:function(t){return e.changeHandler(t)}}),r.a.createElement("h5",null," Your password must contain one number"),r.a.createElement("input",{type:"string",className:"signup-input",name:"password","aria-describedby":"password",placeholder:"PASSWORD",onChange:function(t){return e.changeHandler(t)}}),r.a.createElement("br",null),"\xa0 ",r.a.createElement("p",null,"Your picture"),r.a.createElement("input",{type:"file",onChange:function(t){return e.handleFileUpload(t)}}),this.state.error?r.a.createElement("p",null,this.state.error):"",r.a.createElement("p",null,"Please, enter your address"),r.a.createElement(C,{setAddress:this.setAddress,setGeo:this.setGeo}),r.a.createElement("button",{className:"btn btn-green",type:"submit"},r.a.createElement("i",{class:"fas fa-sign-out-alt"})," \xa0 SIGN UP"))))}}]),t}(n.Component),L=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.service=new j,a.changeHandler=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(A.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;console.log(a.props),a.service.login(t,n).then(function(e){a.props.setUser(e,function(){a.props.history.push("/")})})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"entire-screen"},r.a.createElement("div",{className:"login"},r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("img",{className:"icon",src:f.a,alt:"logo"}),r.a.createElement("div",{className:"row"},r.a.createElement("i",{class:"fas fa-user"}),"\xa0",r.a.createElement("input",{id:"username-input",className:"login-input",type:"text",name:"username",placeholder:"USERNAME",value:this.state.username,onChange:function(t){return e.changeHandler(t)}})),r.a.createElement("div",{className:"row"},r.a.createElement("i",{class:"fas fa-key"}),"\xa0",r.a.createElement("input",{className:"login-input",type:"password",name:"password",placeholder:"PASSWORD",value:this.state.password,onChange:function(t){return e.changeHandler(t)}})),r.a.createElement("button",{id:"btn-login",className:"btn btn-green",type:"submit"},r.a.createElement("i",{class:"fas fa-user"})," \xa0 LOG IN"))))}}]),t}(n.Component),Y=a(579),W=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Y.a,{className:"sidebar"},r.a.createElement("a",{className:"btn btn-green",href:"/"},r.a.createElement("i",{className:"fas fa-home"})," \xa0 HOME PAGE"),r.a.createElement("ul",null,r.a.createElement("a",{className:"btn btn-purple",href:"/profile"},"Edit your profile"),r.a.createElement("a",{className:"btn btn-purple",href:"/my-projects"},"My projects"),r.a.createElement("a",{className:"btn btn-purple",href:"/my-events"},"My events"),r.a.createElement("a",{className:"btn btn-purple",href:"/allprojects"},"All projects"),r.a.createElement("a",{className:"btn btn-purple",href:"/allevents"},"All events")),r.a.createElement("button",{className:"btn btn-green",onClick:this.props.handleLogout},r.a.createElement("i",{className:"fas fa-sign-out-alt"})," \xa0 LOG OUT")))}}]),t}(n.Component),F=a(61),U=(a(296),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).setAddress=function(e){a.setState({address:e})},a.setGeo=function(e){a.setState({geolocation:e})},a.onMarkerClick=function(e,t,n){return a.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0,url:e.url})},a.onMapClicked=function(e){a.state.showingInfoWindow&&a.setState({showingInfoWindow:!1,activeMarker:null})},a.state={address:"",geolocation:"",user:a.props.currentUser,allprojects:[],allevents:[],showingInfoWindow:!1,activeMarker:{},selectedPlace:{},url:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat("https://citycircle.herokuapp.com","/allprojects")).then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({allprojects:t})}).catch(function(e){console.log(e)}),fetch("".concat("https://citycircle.herokuapp.com","/allevents")).then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({allevents:t})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this,t=this.state.user.geolocation.lat,a=this.state.user.geolocation.lng;return r.a.createElement("div",null,r.a.createElement(F.Map,{className:"map",google:this.props.google,zoom:14,style:{width:"80%",height:"auto"},initialCenter:{lat:t,lng:a}},r.a.createElement(F.Marker,{name:"Your place!",position:this.state.geolocation,onClick:this.onMarkerClick}),r.a.createElement(F.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow},r.a.createElement("div",null,r.a.createElement("h1",{className:"infowindow"},this.state.selectedPlace.name),r.a.createElement("a",{className:"infowindow",href:this.state.url},"see more"))),this.state.allprojects.map(function(t,a){return r.a.createElement(F.Marker,{className:"iconMarker",key:a,name:t.name,position:t.geolocation,onClick:e.onMarkerClick,url:"\b/allprojects/".concat(t._id)})}),this.state.allevents.map(function(t,a){return r.a.createElement(F.Marker,{className:"iconMarker",key:a,name:t.name,position:t.geolocation,onClick:e.onMarkerClick,url:"\b/allevents/".concat(t._id)})})))}}]),t}(n.Component)),V=Object(F.GoogleApiWrapper)({apiKey:"AIzaSyBx-Cm1hZ-LcaBezySvfmu2k5HpQKr1vNo"})(U),G=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).changeView=a.changeView.bind(Object(g.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"changeView",value:function(){this.props.changeView("signup")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("button",{className:"chat-button",onClick:this.changeView},r.a.createElement("i",{className:"fas fa-comments"})," CHAT"))}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={username:""},a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){this.setState({username:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.onSubmit(this.state.username)}},{key:"render",value:function(){return r.a.createElement("div",{className:"form-container"},r.a.createElement("h1",null,"Let's Talk"),r.a.createElement("form",{onSubmit:this.handleSubmit,className:"form"},r.a.createElement("label",{htmlFor:"email"},"What is your email?"),r.a.createElement("input",{type:"email",name:"username",onChange:this.handleChange,className:"input"}),r.a.createElement("button",{className:"btn btn-salmon"},"SUBMIT")))}}]),t}(n.Component),T=a(247),I=a(136),Z=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={message:""},a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){this.setState({message:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.onSubmit(this.state.message),this.setState({message:""})}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit,className:"input-field"},r.a.createElement("p",null,"Type your message"),r.a.createElement("input",{className:"input",type:"text",onChange:this.handleChange,value:this.state.message}),r.a.createElement("input",{className:"btn btn-salmon input-send",type:"submit",value:"SEND "}))}}]),t}(n.Component),H=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("ul",{className:"message-list"},this.props.messages.map(function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("p",{className:"message-sender"},e.senderId),r.a.createElement("h4",{className:"message-text"},e.text))}),r.a.createElement("li",null))}}]),t}(n.Component),P=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={currentUser:null,currentRoom:{users:[]},messages:[],users:[]},a.addMessage=a.addMessage.bind(Object(g.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;new I.ChatManager({instanceLocator:"v1:us1:5edd25d8-664f-425e-93f9-4603c0d9431f",userId:this.props.currentId,tokenProvider:new I.TokenProvider({url:"https://us1.pusherplatform.io/services/chatkit_token_provider/v1/5edd25d8-664f-425e-93f9-4603c0d9431f/token"})}).connect().then(function(t){return e.setState({currentUser:t}),t.subscribeToRoom({roomId:"31246603",messageLimit:100,hooks:{onMessage:function(t){e.setState({messages:[].concat(Object(T.a)(e.state.messages),[t])})}}})}).then(function(t){e.setState({currentRoom:t,users:t.userIds})}).catch(function(e){return console.log(e)})}},{key:"addMessage",value:function(e){this.state.currentUser.sendMessage({text:e,roomId:this.state.currentRoom.id}).catch(function(e){return console.error("error",e)})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",{className:"header"},"Hi There!"),r.a.createElement(H,{messages:this.state.messages}),r.a.createElement(Z,{className:"input",onSubmit:this.addMessage}))}}]),t}(n.Component),D=new(a(300).default)({instanceLocator:"".concat("v1:us1:5edd25d8-664f-425e-93f9-4603c0d9431f"),key:"".concat("351556d8-4ba7-4e4b-8ea1-6ac81d417760:NsaR4PuSLGg4+G82UuGfM44xFsdtLgfce5WeiEpzMMU=")}),R=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={currentUsername:"",currentId:"",currentView:"ChatMessage"},a.changeView=a.changeView.bind(Object(g.a)(a)),a.createUser=a.createUser.bind(Object(g.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"createUser",value:function(e){var t=this;D.createUser({id:e,name:e}).then(function(a){t.setState({currentUsername:e,currentId:e,currentView:"chatBox"})}).catch(function(a){400===a.status?t.setState({currentUsername:e,currentId:e,currentView:"chatBox"}):console.log(a.status)})}},{key:"changeView",value:function(e){this.setState({currentView:e})}},{key:"render",value:function(){var e="";return"ChatMessage"===this.state.currentView?e=r.a.createElement(G,{changeView:this.changeView}):"signup"===this.state.currentView?e=r.a.createElement(M,{onSubmit:this.createUser}):"chatBox"===this.state.currentView&&(e=r.a.createElement(P,{currentId:this.state.currentId})),r.a.createElement("div",{className:"ChatApp"},e)}}]),t}(n.Component),z=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={user:a.props.currentUser},a.changeView=a.changeView.bind(Object(g.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"changeView",value:function(e){this.setState({currentView:e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"maincontainer"},r.a.createElement(W,{handleLogout:this.props.handleLogout}),r.a.createElement("div",null,r.a.createElement("a",{className:"btn btn-green",href:"/new-project"},r.a.createElement("i",{className:"fas fa-plus"})," \xa0 ADD A PROJECT"),r.a.createElement("a",{className:"btn btn-green",href:"/new-event"},r.a.createElement("i",{className:"fas fa-plus"})," \xa0 ADD AN EVENT"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"flex-row"},r.a.createElement("h1",null,"Welcome back, ",this.state.user.name),r.a.createElement("img",{id:"profile_img",src:this.state.user.imageUrl,alt:"user_picture",width:"100px"})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h2",null,"Discover what is happening close to you!"),r.a.createElement(V,{currentUser:this.state.user}),r.a.createElement(R,{currentUser:this.state.user})))}}]),t}(n.Component),X=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).setAddress=function(e){a.setState({address:e})},a.setGeo=function(e){a.setState({geolocation:e})},a.changeHandler=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(A.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.name,r=t.address,s=t.geolocation,c=t.description,l=t.author,o=t.image_url;y.a.post("".concat("https://citycircle.herokuapp.com","/new-project"),{name:n,address:r,geolocation:s,description:c,author:l,image_url:o}).then(function(){a.setState({name:"",address:"",geolocation:"",description:"",image_url:""}),p.a.fire("Your project was submitted!"),a.props.history.push("/")}).catch(function(e){return console.log(e)})},a.handleFileUpload=function(e){console.log("The file to be uploaded is: ",e.target.files[0]);var t=new FormData;t.append("imageUrl",e.target.files[0]),w.handleUpload(t).then(function(e){console.log("response is: ",e),a.setState({image_url:e.secure_url})}).catch(function(e){console.log("Error while uploading the file: ",e)})},a.state={name:"",address:"",geolocation:"",description:"",author:a.props.currentUser,image_url:""},a.changeHandler=a.changeHandler.bind(Object(g.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a.setAddress=a.setAddress.bind(Object(g.a)(a)),a.setGeo=a.setGeo.bind(Object(g.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"maincontainer"},r.a.createElement(W,{handleLogout:this.props.handleLogout}),r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Project's name"),r.a.createElement("input",{type:"text",className:"form-control",name:"name","aria-describedby":"name",onChange:function(t){return e.changeHandler(t)}}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"description"},"Tell us more about it"),r.a.createElement("textarea",{className:"form-control",name:"description",rows:"5",onChange:function(t){return e.changeHandler(t)}}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"picture"},"Add a picture"),r.a.createElement("input",{type:"file",onChange:function(t){return e.handleFileUpload(t)}}),r.a.createElement(C,{setAddress:this.setAddress,setGeo:this.setGeo}),r.a.createElement("button",{className:"btn btn-green right-bottom",variant:"info",type:"submit"},"SAVE THE PROJECT"),r.a.createElement(V,{currentUser:this.state.author,setAddress:this.setAddress,setGeo:this.setGeo}))))}}]),t}(n.Component),Q=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).setAddress=function(e){a.setState({address:e})},a.setGeo=function(e){a.setState({geolocation:e})},a.changeHandler=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(A.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.name,r=t.date,s=t.time,c=t.address,l=t.geolocation,o=t.description,i=t.author,u=t.image_url;y.a.post("".concat("https://citycircle.herokuapp.com","/new-event"),{name:n,date:r,time:s,address:c,geolocation:l,description:o,author:i,image_url:u}).then(function(){a.setState({name:"",date:"",time:"",address:"",geolocation:"",description:"",image_url:""}),p.a.fire("Your event was submitted!"),a.props.history.push("/")}).catch(function(e){return console.log(e)})},a.handleFileUpload=function(e){console.log("The file to be uploaded is: ",e.target.files[0]);var t=new FormData;t.append("imageUrl",e.target.files[0]),w.handleUpload(t).then(function(e){console.log("response is: ",e),a.setState({image_url:e.secure_url})}).catch(function(e){console.log("Error while uploading the file: ",e)})},a.state={name:"",address:"",date:"",time:"",geolocation:"",description:"",author:a.props.currentUser,image_url:""},a.changeHandler=a.changeHandler.bind(Object(g.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a.setAddress=a.setAddress.bind(Object(g.a)(a)),a.setGeo=a.setGeo.bind(Object(g.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"maincontainer"},r.a.createElement(W,{handleLogout:this.props.handleLogout}),r.a.createElement("div",{className:"maintext"},r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Event's name"),r.a.createElement("input",{type:"text",className:"form-control",name:"name","aria-describedby":"name",onChange:function(t){return e.changeHandler(t)}}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"date"},"Date"),r.a.createElement("input",{type:"date",className:"form-control",name:"date","aria-describedby":"date",onChange:function(t){return e.changeHandler(t)}}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"time"},"Starting time"),r.a.createElement("input",{type:"time",className:"form-control",name:"time","aria-describedby":"time",onChange:function(t){return e.changeHandler(t)}}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"description"},"Tell us more about it"),r.a.createElement("textarea",{className:"form-control",name:"description",rows:"5",onChange:function(t){return e.changeHandler(t)}}),r.a.createElement("br",null),r.a.createElement("p",null,"ADD A PICTURE "),r.a.createElement("input",{type:"file",onChange:function(t){return e.handleFileUpload(t)}}),r.a.createElement(C,{setAddress:this.setAddress,setGeo:this.setGeo}),r.a.createElement("input",{className:"btn btn-green",type:"submit",value:"SAVE THE EVENT"}),r.a.createElement(V,{currentUser:this.state.author,setAddress:this.setAddress,setGeo:this.setGeo})))))}}]),t}(n.Component),J=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).delete=function(e){y.a.delete("".concat("https://citycircle.herokuapp.com","/allprojects/").concat(e)).then(p.a.fire("Your project was deleted!")).catch(function(e){return console.log(e)}),a.props.history.push("/my-projects")},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"maincontainer"},r.a.createElement(W,{handleLogout:this.props.handleLogout}),r.a.createElement("div",{className:"flex-row-3"},this.props.currentUser.projects.map(function(t,a){return r.a.createElement("div",{className:"card flex-row-3-child",key:a},r.a.createElement("img",{className:"card-image",src:t.image_url,alt:"",height:"200px"}),r.a.createElement("br",null),r.a.createElement("h2",{className:"card-title"},t.name," "),r.a.createElement("br",null),r.a.createElement("p",{className:"card-text"},"Address: ",t.address),r.a.createElement("br",null),r.a.createElement("p",{className:"card-text"},"Description: ",t.description),r.a.createElement("button",{className:"btn-card btn-purple",onClick:function(){return e.delete(t._id)}},"DELETE THE PROJECT"))})))}}]),t}(n.Component),B=a(133),K=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).delete=function(e){y.a.delete("".concat("https://citycircle.herokuapp.com","/my-events/").concat(e)).then(p.a.fire("Your event was deleted!")).catch(function(e){return console.log(e)}),window.location.reload()},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"formattedDate",value:function(e){var t=B(e).format("DD MMMM YYYY");return t}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"maincontainer"},r.a.createElement(W,{handleLogout:this.props.handleLogout}),r.a.createElement("div",{className:"flex-row-3"},this.props.currentUser.events.map(function(t,a){return r.a.createElement("div",{className:"card flex-row-3-child",key:a},r.a.createElement("img",{className:"card-image",src:t.image_url,alt:"",height:"200px"}),r.a.createElement("h2",{className:"card-title"},"Event name: ",t.name),r.a.createElement("p",{className:"card-text"},"Date: ",e.formattedDate(t.date)),r.a.createElement("p",{className:"card-text"},"Adrress: ",t.address),r.a.createElement("p",{className:"card-text"},"Description: ",t.description),r.a.createElement("button",{className:"btn-card btn-purple",onClick:function(){return e.delete(t._id)}},"DELETE THE EVENT"))})))}}]),t}(n.Component),q=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).authService=new j,a.handleFormSubmit=function(e){var t=a.state.name,n=a.state.address,r=a.state.username,s=a.state.imageUrl;e.preventDefault(),y.a.put("".concat("https://citycircle.herokuapp.com","/users/").concat(a.state.id),{name:t,address:n,username:r,imageUrl:s}).then(function(){a.props.history.push("/")}).catch(function(e){return console.log(e)})},a.changeHandler=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(A.a)({},n,r))},a.handleFileUpload=function(e){console.log("The file to be uploaded is: ",e.target.files[0]);var t=new FormData;t.append("imageUrl",e.target.files[0]),w.handleUpload(t).then(function(e){console.log("response is: ",e),a.setState({imageUrl:e.secure_url})}).catch(function(e){console.log("Error while uploading the file: ",e)})},a.state={id:a.props.currentUser._id,name:a.props.currentUser.name,address:a.props.currentUser.address,username:a.props.currentUser.username,imageUrl:a.props.currentUser.imageUrl},a.changeHandler=a.changeHandler.bind(Object(g.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"maincontainer"},r.a.createElement(W,null),r.a.createElement("div",{className:"maintext"},r.a.createElement("h2",null,"Edit your profile"),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",{className:"text-green"},"Name:\xa0 "),r.a.createElement("input",{className:"form-input",type:"text",name:"name",value:this.state.name,onChange:function(t){return e.changeHandler(t)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{className:"text-green"},"Address:\xa0 "),r.a.createElement("textarea",{className:"form-input",name:"address",value:this.state.address,onChange:function(t){return e.changeHandler(t)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{className:"text-green"},"Username: \xa0 "),r.a.createElement("textarea",{className:"form-input",name:"username",value:this.state.username,onChange:function(t){return e.changeHandler(t)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{className:"text-green"},"Picture: \xa0 "),r.a.createElement("input",{type:"file",onChange:function(t){return e.handleFileUpload(t)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{className:"btn btn-green",type:"submit",value:"SUBMIT"}))))}}]),t}(n.Component),_=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).redirect=function(e){a.props.history.push("/allprojects/".concat(e))},a.state={allprojects:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;y.a.get("".concat("https://citycircle.herokuapp.com","/allprojects")).then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({allprojects:t})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"maincontainer"},r.a.createElement(W,{handleLogout:this.props.handleLogout}),r.a.createElement("div",{className:"flex-row-3"},this.state.allprojects.map(function(t,a){return r.a.createElement("div",{className:"card flex-row-3-child",key:a},r.a.createElement("img",{className:"card-image",src:t.image_url,alt:"",height:"200px"}),r.a.createElement("br",null),r.a.createElement("h2",{className:"card-title"},t.name," "),r.a.createElement("br",null),r.a.createElement("p",{className:"card-text"},"Created by : ",t.author.name),r.a.createElement("br",null),r.a.createElement("p",{className:"card-text"},"Address: ",t.address),r.a.createElement("br",null),r.a.createElement("p",{className:"card-text"},"Description: ",t.description),r.a.createElement("p",{className:"card-text"},"Comments: "),t.comments.map(function(e,t){return r.a.createElement("p",{key:t},e)}),r.a.createElement("br",null),r.a.createElement("button",{className:"btn-purple btn-card",onClick:function(){return e.redirect(t._id)}},"SEE MORE"))})))}}]),t}(n.Component),$=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).changeHandler=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(A.a)({},n,r))},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.project,r=t.comment;y.a.put("\b".concat("https://citycircle.herokuapp.com","/allprojects/").concat(a.state.project._id),{project:n,comment:r}),p.a.fire("Thanks for your info"),a.props.history.push("/allprojects")},a.state={project:"",comment:"",user:a.props.currentUser,author:""},a.changeHandler=a.changeHandler.bind(Object(g.a)(a)),a.handleFormSubmit=a.handleFormSubmit.bind(Object(g.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params;y.a.get("".concat("https://citycircle.herokuapp.com","/allprojects/").concat(t.id)).then(function(t){var a=t.data;e.setState({project:a,author:a.author.name})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"maincontainer"},r.a.createElement(W,{handleLogout:this.props.handleLogout}),r.a.createElement("form",{onSubmit:this.handleFormSubmit},"\xa0 \xa0 \xa0 \xa0 \xa0",r.a.createElement("img",{className:"card-image",src:this.state.project.image_url,alt:"",height:"300px"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h2",{className:"text-purple"},this.state.project.name," "),r.a.createElement("br",null),r.a.createElement("h3",{className:"text-green"},"Created by : ",r.a.createElement("span",{className:"text-white"},this.state.author)),r.a.createElement("br",null),r.a.createElement("h3",{className:"text-green"},"Address: ",r.a.createElement("span",{className:"text-white"},this.state.project.address)),r.a.createElement("br",null),r.a.createElement("h3",{className:"text-green"},"Description: ",r.a.createElement("span",{className:"text-white"},this.state.project.description)),r.a.createElement("br",null),r.a.createElement("h3",{className:"text-green"},"Leave a comment "),r.a.createElement("textarea",{className:"form-control",name:"comment",rows:"5",onChange:this.changeHandler}),r.a.createElement("input",{className:"btn btn-green",type:"submit",value:"SUBMIT YOUR CHANGES"})))}}]),t}(n.Component),ee=a(133),te=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).redirect=function(e){a.props.history.push("/allevents/".concat(e))},a.state={allevents:[],user:a.props.currentUser},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("\b".concat("https://citycircle.herokuapp.com","/allevents")).then(function(e){return console.log("Hey",e),e.json()}).then(function(t){console.log(t),e.setState({allevents:t})}).catch(function(e){console.log(e)})}},{key:"formattedDate",value:function(e){var t=ee(e).format("DD MMMM YYYY");return t}},{key:"splitComments",value:function(e){return e.split}},{key:"countAtendees",value:function(e){var t=e;return t.length}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"maincontainer"},r.a.createElement(W,{handleLogout:this.props.handleLogout}),r.a.createElement("div",{className:"flex-row-3"},this.state.allevents.map(function(t,a){return r.a.createElement("div",{className:"card flex-row-3-child",key:a},r.a.createElement("img",{className:"card-image",src:t.image_url,alt:"",height:"200px"}),r.a.createElement("br",null),r.a.createElement("h2",{className:"card-title"},t.name," "),r.a.createElement("br",null),r.a.createElement("p",{className:"card-text"},"Created by : ",t.author.name),r.a.createElement("br",null),r.a.createElement("p",{className:"card-text"},"Address: ",t.address),r.a.createElement("br",null),r.a.createElement("p",{className:"card-text"},"Day: ",e.formattedDate(t.date)),r.a.createElement("br",null),r.a.createElement("p",{className:"card-text"},"Time: ",t.time),r.a.createElement("br",null),r.a.createElement("p",{className:"card-text"},"Comments: "),t.comments.map(function(e,t){return r.a.createElement("p",{key:t},e)}),r.a.createElement("br",null),r.a.createElement("p",{className:"card-text"}," ",r.a.createElement("i",{class:"fas fa-users"})," \xa0",e.countAtendees(t.atendees)," persons have already confirmed!"),r.a.createElement("button",{className:"btn-purple btn-card",onClick:function(){return e.redirect(t._id)}},"SEE MORE"))})))}}]),t}(n.Component),ae=a(133),ne=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).changeHandler=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(A.a)({},n,r))},a.handleCheckboxChange=function(e){a.state.atendees.includes(a.state.user._id)?(p.a.fire("Your presence is already confirmed"),a.setState({isGoing:!1})):a.setState({isGoing:e.target.checked})},a.getSingleEvent=function(){var e=a.props.match.params;y.a.get("".concat("https://citycircle.herokuapp.com","/allevents/").concat(e.id)).then(function(e){var t=e.data;a.setState({event:t,author:t.author.name,atendees:t.atendees})}).catch(function(e){console.log(e)})},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.event,r=t.isGoing,s=t.comment,c=t.user;y.a.put("\b".concat("https://citycircle.herokuapp.com","/allevents/").concat(a.state.event._id),{event:n,isGoing:r,comment:s,user:c}),p.a.fire("Thanks for your info"),a.props.history.push("/allevents")},a.state={event:"",isGoing:!0,comment:"",user:a.props.currentUser,author:"",atendees:[]},a.changeHandler=a.changeHandler.bind(Object(g.a)(a)),a.handleCheckboxChange=a.handleCheckboxChange.bind(Object(g.a)(a)),a.getSingleEvent=a.getSingleEvent.bind(Object(g.a)(a)),a.handleFormSubmit=a.handleFormSubmit.bind(Object(g.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getSingleEvent()}},{key:"render",value:function(){var e=ae(this.state.event.date).format("DD MMMM YYYY"),t=this.state.atendees.length;return r.a.createElement("div",{className:"maincontainer"},r.a.createElement(W,{handleLogout:this.props.handleLogout}),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("img",{className:"card-image",src:this.state.event.image_url,alt:"",height:"200px"}),r.a.createElement("br",null),r.a.createElement("h2",{className:"text-purple"},this.state.event.name," "),r.a.createElement("br",null),r.a.createElement("h3",{className:"text-green"},"Created by : ",r.a.createElement("span",{className:"text-white"},this.state.author)),r.a.createElement("br",null),r.a.createElement("h3",{className:"text-green"},"Address: ",r.a.createElement("span",{className:"text-white"},this.state.event.address)),r.a.createElement("br",null),r.a.createElement("h3",{className:"text-green"},"Day: ",r.a.createElement("span",{className:"text-white"},e)),r.a.createElement("br",null),r.a.createElement("h3",{className:"text-green"},"Time: ",r.a.createElement("span",{className:"text-white"},this.state.event.time)),r.a.createElement("br",null),r.a.createElement("h3",{className:"text-green"},"Description: ",r.a.createElement("span",{className:"text-white"},this.state.event.description)),r.a.createElement("br",null),r.a.createElement("p",null," ",r.a.createElement("i",{class:"fas fa-users"})," \xa0 ",t," persons have already confirmed!"),r.a.createElement("h3",{className:"text-green"},"Are you coming: "),r.a.createElement("input",{name:"isGoing",type:"checkbox",checked:this.state.isGoing,onChange:this.handleCheckboxChange}),r.a.createElement("br",null),r.a.createElement("h3",{className:"text-green"},"Leave a comment "),r.a.createElement("textarea",{className:"form-control",name:"comment",rows:"5",onChange:this.changeHandler}),r.a.createElement("input",{className:"btn btn-green",type:"submit",value:"SUBMIT YOUR CHANGES"})))}}]),t}(n.Component),re=a(30),se=a.n(re),ce=a(85),le=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){return function(a){e.setState(Object(A.a)({},t,a.target.value))}},e.sendEmail=function(){var t=Object(ce.a)(se.a.mark(function t(a){var n,r;return se.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),""!==(n=e.state.email)){t.next=6;break}e.setState({showError:!1,messageFromServer:"",showNullError:!0}),t.next=18;break;case 6:return t.prev=6,t.next=9,y.a.post("".concat("https://citycircle.herokuapp.com","/forgotPassword"),{email:n});case 9:r=t.sent,console.log(r.data),"recovery email sent"===r.data&&e.setState({showError:!1,messageFromServer:"recovery email sent",showNullError:!1}),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(6),console.error(t.t0.response.data),"email not in db"===t.t0.response.data&&e.setState({showError:!0,messageFromServer:"",showNullError:!1});case 18:case"end":return t.stop()}},t,null,[[6,14]])}));return function(e){return t.apply(this,arguments)}}(),e.state={email:"",showError:!1,messageFromServer:"",showNullError:!1},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.messageFromServer,n=e.showNullError,s=e.showError;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.sendEmail},r.a.createElement("input",{id:"email",label:"email",value:t,onChange:this.handleChange("email"),placeholder:"Email Address"}),r.a.createElement("input",{className:"btn btn-green",type:"submit",value:"Submit"})),n&&r.a.createElement("div",null,r.a.createElement("p",null,"The email address cannot be null.")),s&&r.a.createElement("div",null,r.a.createElement("p",null,"That email address isn't recognized. Please try again or sign up for a new account."),r.a.createElement("button",{buttonText:"Sign up",href:"/signup"})),"recovery email sent"===a&&r.a.createElement("div",null,r.a.createElement("h3",null,"Password Reset Email Successfully Sent!")))}}]),t}(n.Component),oe=a(580),ie={margin:"1em",fontSize:"24px"},ue={pageTitle:"Password Reset Screen"},me=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){return function(a){e.setState(Object(A.a)({},t,a.target.value))}},e.updatePassword=function(){var t=Object(ce.a)(se.a.mark(function t(a){var n,r,s,c,l;return se.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=e.state,r=n.username,s=n.password,c=e.props.match.params.token,t.prev=3,t.next=6,y.a.put("http://localhost:3003/updatePasswordViaEmail",{username:r,password:s,resetPasswordToken:c});case 6:l=t.sent,console.log(l.data),"password updated"===l.data.message?e.setState({updated:!0,error:!1}):e.setState({updated:!1,error:!0}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.log(t.t0.response.data);case 14:case"end":return t.stop()}},t,null,[[3,11]])}));return function(e){return t.apply(this,arguments)}}(),e.state={username:"",password:"",updated:!1,isLoading:!0,error:!1},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(ce.a)(se.a.mark(function e(){var t,a;return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.token,e.prev=1,e.next=4,y.a.get("".concat("https://citycircle.herokuapp.com","/reset"),{params:{resetPasswordToken:t}});case 4:"password reset link a-ok"===(a=e.sent).data.message&&this.setState({username:a.data.username,updated:!1,isLoading:!1,error:!1}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.response.data),this.setState({updated:!1,isLoading:!1,error:!0});case 12:case"end":return e.stop()}},e,this,[[1,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.password,a=e.error,n=e.isLoading,s=e.updated;return a?r.a.createElement("div",null,r.a.createElement("div",{style:ie},r.a.createElement("h4",null,"Problem resetting password. Please send another reset link."),r.a.createElement("a",{href:"/"},"Go Home "),r.a.createElement("a",{href:"/forgotPassword"},"Forgot Password? "))):n?r.a.createElement("div",null,r.a.createElement("div",{title:ue}),r.a.createElement("div",{style:ie},"Loading User Data...")):r.a.createElement("div",null,r.a.createElement("div",{title:ue}),r.a.createElement("form",{className:"password-form",onSubmit:this.updatePassword},r.a.createElement("input",{id:"password",label:"password",onChange:this.handleChange("password"),value:t,type:"password"}),r.a.createElement("input",{className:"btn btn-green",type:"submit",value:"Submit"})),s&&r.a.createElement("div",null,r.a.createElement("p",null,"Your password has been successfully reset, please try logging in again."),r.a.createElement(oe.a,{className:"btn btn-green",to:"/t"},r.a.createElement("i",{class:"fas fa-home"})," \xa0 HOME PAGE")))}}]),t}(n.Component),he=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:null},a.service=new j,a.setUser=function(e,t){a.setState({user:e.userDoc},t)},a.handleLogout=function(e){e.preventDefault(),a.service.logout(),p.a.fire("You are logged out"),a.setState({user:null})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat("https://citycircle.herokuapp.com","/getUser"),{credentials:"include"}).then(function(t){if(console.log(t),!t.ok)throw e.setState({user:null}),new Error({message:"user not logged in"});t.json().then(function(t){e.setState({user:t})})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;return null===this.state.user?r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/",component:E}),r.a.createElement(h.a,{path:"/signup",render:function(e){return r.a.createElement(k,e)}}),r.a.createElement(h.a,{exact:!0,path:"/login",render:function(t){return r.a.createElement(L,Object.assign({setUser:e.setUser},t))}}),r.a.createElement(h.a,{exact:!0,path:"/forgotPassword",component:le}),r.a.createElement(h.a,{exact:!0,path:"/reset",component:me})):r.a.createElement("div",{className:"App"},r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(z,{handleLogout:e.handleLogout,currentUser:e.state.user})}}),r.a.createElement(h.a,{path:"/new-project",render:function(t){return r.a.createElement(X,Object.assign({currentUser:e.state.user},t))}}),r.a.createElement(h.a,{path:"/new-event",render:function(t){return r.a.createElement(Q,Object.assign({currentUser:e.state.user},t))}}),r.a.createElement(h.a,{path:"/profile",render:function(t){return r.a.createElement(q,Object.assign({currentUser:e.state.user},t))}}),r.a.createElement(h.a,{path:"/my-projects",render:function(t){return r.a.createElement(J,Object.assign({currentUser:e.state.user},t))}}),r.a.createElement(h.a,{path:"/my-events",render:function(t){return r.a.createElement(K,Object.assign({currentUser:e.state.user},t))}}),r.a.createElement(h.a,{exact:!0,path:"/allprojects",render:function(t){return r.a.createElement(_,Object.assign({currentUser:e.state.user},t))}}),r.a.createElement(h.a,{exact:!0,path:"/allprojects/:id",render:function(t){return r.a.createElement($,Object.assign({currentUser:e.state.user},t))}}),r.a.createElement(h.a,{exact:!0,path:"/allevents",render:function(t){return r.a.createElement(te,Object.assign({currentUser:e.state.user},t))}}),r.a.createElement(h.a,{exact:!0,path:"/allevents/:id",render:function(t){return r.a.createElement(ne,Object.assign({currentUser:e.state.user},t))}}),r.a.createElement(h.a,{path:"/chat",render:function(t){return r.a.createElement(G,Object.assign({currentUser:e.state.user},t))}})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var de=a(135);c.a.render(r.a.createElement(de.a,null,r.a.createElement(he,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[248,1,2]]]);
//# sourceMappingURL=main.bdd788bf.chunk.js.map